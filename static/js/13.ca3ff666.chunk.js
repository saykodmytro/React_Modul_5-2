"use strict";(self.webpackChunkReact_Modul_5_2=self.webpackChunkReact_Modul_5_2||[]).push([[13],{13:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(433);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s,u=n(439),a=n(791),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")},d="Product_product__hQeO1",p="Product_productImg__+a4qi",h="Product_discountBage__jCcC4",f="Product_apology__pj8OQ",m="Product_productAddToCartBtn__RIA29",x=n(153),b=n(184),j=function(e){var t=e.id,n=e.title,r=e.price,o=e.discount,c=e.handleDeleteProduct,i=(0,a.useContext)(x.t),s=i.dayOfTheMonth,u=i.openModal,l={backgroundColor:o?"#97e605":"#f9bf04"};return(0,b.jsxs)("div",{className:d,style:l,children:[(0,b.jsxs)("b",{children:["Day of the month: ",s]}),(0,b.jsx)("img",{src:"https://images.pexels.com/photos/461198/pexels-photo-461198.jpeg?dpr=2&h=480&w=640",alt:"Tacos With Lime",width:"640",className:p}),(0,b.jsxs)("h2",{children:[n," "]}),o?(0,b.jsxs)("h3",{className:h,children:["Discount: ",o,"$"]}):(0,b.jsx)("p",{className:f,children:"Sorry, but discount on this type of product has expired!"}),(0,b.jsxs)("p",{children:["Price: ",r,"$"]}),(0,b.jsx)("button",{className:m,type:"button",children:"Add to cart"}),(0,b.jsx)("button",{onClick:function(){return u({title:n,price:r,discount:o})},className:m,type:"button",children:"See the details"}),(0,b.jsx)("button",{onClick:function(){return c(t)},className:m,type:"button",children:"\xd7"})]})},g={form:"ProductForm_form__g-Bdi",formLarge:"ProductForm_formLarge__HF+87",labelText:"ProductForm_labelText__TbfmW"},v=function(e){var t=e.handleAddProduct,n=(0,a.useState)(""),r=(0,u.Z)(n,2),o=r[0],c=r[1],i=(0,a.useState)(""),s=(0,u.Z)(i,2),l=s[0],d=s[1],p=(0,a.useState)(!1),h=(0,u.Z)(p,2),f=h[0],m=h[1],x=(0,a.useState)(""),j=(0,u.Z)(x,2),v=j[0],y=j[1],_=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;switch(e.target.name){case"title":return void c(t);case"price":return void d(t);case"hasDiscount":return void m(t);case"discount":return void y(t);default:return}};return(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={title:o,price:Number.parseFloat(l),discount:f?Number.parseFloat(v):null};t(n),c(""),d(""),m(!1),y("")},className:"".concat(g.form," ").concat(g.formLarge),children:["Spagetti"===o&&(0,b.jsx)("h2",{children:"Congrats! You won a promocode\ud83d\ude12\ud83d\ude2d - #R3E2A1\ud83c\udf89"}),(0,b.jsxs)("label",{className:g.formLabel,children:[(0,b.jsx)("p",{className:g.labelText,children:"Title:"}),(0,b.jsx)("input",{type:"text",name:"title",onChange:_,value:o})]}),(0,b.jsxs)("label",{className:g.formLabel,children:[(0,b.jsx)("p",{className:g.labelText,children:"Price:"}),(0,b.jsx)("input",{type:"text",name:"price",onChange:_,value:l})]}),(0,b.jsxs)("label",{className:g.formLabel,children:[(0,b.jsx)("input",{type:"checkbox",name:"hasDiscount",onChange:_,checked:f})," ","Has discount?"]}),f&&(0,b.jsxs)("label",{className:g.formLabel,children:[(0,b.jsx)("p",{className:g.labelText,children:"Discount:"}),(0,b.jsx)("input",{type:"text",name:"discount",onChange:_,value:v})]}),(0,b.jsx)("button",{type:"submit",children:"Add Product"})]})},y="Section_section__Z2PLw",_=function(e){var t=e.children,n=e.title,r=void 0!==n&&n;return(0,b.jsxs)("section",{className:y,children:[r&&(0,b.jsx)("h2",{children:r}),t]})},w=n(168),P=n(867).ZP.div(s||(s=(0,w.Z)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: ",";\n  /* width: 100vw;\n     height: 100vh; */\n  &:hover {\n    cursor: pointer;\n  }\n  .modal {\n    padding: 20px;\n    max-width: 450px;\n    width: 100%;\n    min-height: 450px;\n    background-color: white;\n    border-radius: 10px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    &:hover {\n      cursor: auto;\n    }\n  }\n\n  .closeBtn {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n  }\n"])),(function(e){return e.specialLook?"rgba(255, 0, 0, 0.5)":"rgba(0, 0, 0, 0.5)"})),O=function(){var e=(0,a.useContext)(x.t),t=e.modalData,n=e.closeModal,r=(0,a.useState)(1),o=(0,u.Z)(r,2),c=o[0],i=o[1],s=(0,a.useRef)(null),l=(0,a.useRef)(!0);(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",e),document.body.style.overflow="auto"}}),[n]);(0,a.useEffect)((function(){s.current&&s.current.focus()}),[]);return(0,a.useEffect)((function(){return!1===l.current&&console.log("counter changed",c),function(){l.current=!1}}),[c]),(0,b.jsx)(P,{onClick:function(e){e.target===e.currentTarget&&n()},children:(0,b.jsxs)("div",{className:"modal",children:[(0,b.jsx)("button",{onClick:n,className:"closeBtn",children:"\u274c"}),(0,b.jsx)("h2",{children:"Product Details"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{children:["Title: ",t.title]}),(0,b.jsxs)("p",{children:["Price: ",t.price,"$"]}),(0,b.jsxs)("p",{children:["Discount: ",t.discount,"$"]})]}),(0,b.jsx)("input",{ref:s,type:"text"}),(0,b.jsx)("button",{onClick:function(){console.log(s.current),s.current.focus()},children:"Select input"}),(0,b.jsxs)("button",{onClick:function(){return i((function(e){return e+1}))},children:["Product count: ",c]})]})})},N="App_productList__ZcthI",C=[{id:"Wdawdawd",title:"Tacos With Lime M",price:5.85,discount:15},{id:"312dwadawd",title:"Tacos With Lime XXL",price:10.99,discount:30},{id:"@#21dwdaw",title:"Tacos With Lime XL",price:6.99,discount:null},{id:"d12dsda@@!",title:"Tacos S",price:1.5,discount:null},{id:"DWafg32fd23f2",title:"Tacos With Cheese",price:3.4,discount:.2}],k=function(){var e=(0,a.useState)((function(){var e,t=localStorage.getItem("products");return null!==(e=JSON.parse(t))&&void 0!==e?e:C})),t=(0,u.Z)(e,2),n=t[0],o=t[1],c=(0,a.useContext)(x.t).isOpenModal;(0,a.useEffect)((function(){var e=JSON.stringify(n);localStorage.setItem("products",e)}),[n]);var s=function(e){o(n.filter((function(t){return t.id!==e})))},d=(0,r.Z)(n).sort((function(e,t){return t.discount-e.discount}));return(0,b.jsxs)("div",{children:[(0,b.jsx)(_,{title:"Add product Form",children:(0,b.jsx)(v,{handleAddProduct:function(e){if(n.some((function(t){return t.title===e.title})))alert("Oops, produc with title '".concat(e.title,"' already exists!"));else{var t=i(i({},e),{},{id:l()});o([t].concat((0,r.Z)(n)))}}})}),(0,b.jsx)(_,{title:"Product List",children:(0,b.jsx)("div",{className:N,children:d.map((function(e){return(0,b.jsx)(j,{id:e.id,title:e.title,price:e.price,discount:e.discount,handleDeleteProduct:s},e.id)}))})}),c&&(0,b.jsx)(O,{})]})}}}]);
//# sourceMappingURL=13.ca3ff666.chunk.js.map